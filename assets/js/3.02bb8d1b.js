(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{334:function(a,s,t){a.exports=t.p+"assets/img/delete_lib.a72fdb6e.png"},335:function(a,s,t){a.exports=t.p+"assets/img/add_lib.5e0cd2cf.png"},336:function(a,s,t){a.exports=t.p+"assets/img/add_artifacts.1e01e08a.png"},337:function(a,s,t){a.exports=t.p+"assets/img/config_artifacts.515fbb2a.png"},338:function(a,s,t){a.exports=t.p+"assets/img/add_bin.f721a82b.png"},339:function(a,s,t){a.exports=t.p+"assets/img/select_bin.0d908805.png"},340:function(a,s,t){a.exports=t.p+"assets/img/build_artifacts.c2e48e93.png"},341:function(a,s,t){a.exports=t.p+"assets/img/delete_sf_dsa_file.1ecd878a.png"},351:function(a,s,t){"use strict";t.r(s);var e=t(8),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"打包指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包指令"}},[a._v("#")]),a._v(" 打包指令")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("jpackage "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Sign"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--app-version "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1.0"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--icon")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"spa_flower.ico"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--description")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"signature application"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--vendor")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ronnaces, Inc"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--copyright")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Copyright 2022, All rights reserved"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--type")]),a._v(" msi "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dest")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--main-jar ."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("ronnaces-signature.jar "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--main-class com.ronnaces.signature.SignatureApplication "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" \n--module-path "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"D:\\Program Files\\Java\\javafx-sdk-18.0.1\\lib"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 模块化项目需要")]),a._v("\n--add-modules javafx.controls,javafx.fxml "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 模块化项目需要")]),a._v("\n--jlink-options "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v(" \n--bind-services "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--verbose")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-shortcut "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-shortcut-prompt "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-menu "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-menu-group "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ronnaces"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-help-url "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://www.baidu.com"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-dir-chooser "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-update-url "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n--win-upgrade-uuid "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"20220622071600"')]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--type")]),a._v(" app-image "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 用于测试安装包是否可用")]),a._v("\n --win-console "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 用于控制台调试")]),a._v("\n")])])]),e("h2",{attrs:{id:"打包步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#打包步骤"}},[a._v("#")]),a._v(" 打包步骤")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("下载 WiX Toolset build tools, 并配置环境变量;")])]),a._v(" "),e("li",[e("p",[a._v("Build Artifacts")]),a._v(" "),e("ol",[e("li",[e("p",[a._v("Project Settings -> Libraries 删除 javafx lib")]),a._v(" "),e("p",[e("img",{attrs:{src:t(334),alt:"image-20220626120132574"}})])]),a._v(" "),e("li",[e("p",[a._v("Project Settings -> Libraries 添加本地 javafx lib")]),a._v(" "),e("p",[e("img",{attrs:{src:t(335),alt:"image-20220626120450046"}})])]),a._v(" "),e("li",[e("p",[a._v("Build -> Build Project")])]),a._v(" "),e("li",[e("p",[a._v("Edit Configurations -> Add VM options")])])]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("   --module-path "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"D:\\Program Files\\Java\\javafx-sdk-18.0.1\\lib"')]),a._v("\n   --add-modules"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("javafx.controls,javafx.fxml\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[e("p",[a._v("Project Settings -> Artifacts -> JAR -> From modules with dependencies")]),a._v(" "),e("p",[e("img",{attrs:{src:t(336),alt:"image-20220626120606751"}})]),a._v(" "),e("p",[e("img",{attrs:{src:t(337),alt:"image-20220626124540147"}})])]),a._v(" "),e("li",[e("p",[a._v("Output Layout -> file -> javafx bin")]),a._v(" "),e("p",[e("img",{attrs:{src:t(338),alt:"image-20220626120757038"}})]),a._v(" "),e("p",[e("img",{attrs:{src:t(339),alt:"image-20220626120852641"}})])]),a._v(" "),e("li",[e("p",[a._v("Build Artifacts")]),a._v(" "),e("p",[e("img",{attrs:{src:t(340),alt:"image-20220626121210385"}})])])])]),a._v(" "),e("li",[e("p",[a._v("删除构建好的jar包里META-INF目录下的 .DSA, .FSA, .SF (通过winRAR里面删除), 并用 java -jar xxx.jar 测试.")]),a._v(" "),e("p",[e("img",{attrs:{src:t(341),alt:"image-20220626121943347"}})])]),a._v(" "),e("li",[e("p",[a._v("执行打包命令")])])]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("jpackage "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"signature"')]),a._v(" --app-version "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1.0"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--icon")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"spa_flower.ico"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--description")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"signature application 2022-06-26"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--vendor")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ronnaces, Inc"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--copyright")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Copyright 2022, All rights reserved"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--type")]),a._v(" msi "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--input")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--dest")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v(" --main-jar ."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("ronnaces-signature.jar --main-class com.ronnaces.signature.App --jlink-options --bind-services --win-shortcut --win-shortcut-prompt --win-menu --win-menu-group "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ronnaces"')]),a._v(" --win-help-url "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://www.baidu.com"')]),a._v(" --win-dir-chooser --win-update-url "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"https://www.baidu.com"')]),a._v(" --win-upgrade-uuid "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"34b2e00e-e8df-473d-ab70-72ecf876695b"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--verbose")]),a._v(" --win-console\n")])])]),e("h2",{attrs:{id:"jlink"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jlink"}},[a._v("#")]),a._v(" JLink")]),a._v(" "),e("h3",{attrs:{id:"精简jre镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#精简jre镜像"}},[a._v("#")]),a._v(" 精简jre镜像")]),a._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[a._v("jlink "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--output")]),a._v(" jdk-17+fx --module-path "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"D:\\Program Files\\Java\\javafx-jmods-18.0.1"')]),a._v(" --add-modules javafx.base,javafx.controls,javafx.fxml,java.base\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);